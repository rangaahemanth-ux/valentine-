<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tan's Home ‚ú¶ A Valentine Sanctuary</title>
    <meta name="description" content="An intimate 3D space built for you.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè†</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/EffectComposer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/RenderPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/ShaderPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/UnrealBloomPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/CopyShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/LuminosityHighPassShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
</head>
<body>
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LOADING SCREEN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="loading-screen">
        <div class="loader-container">
            <div class="loader-bg-particles" id="loader-particles"></div>
            <div class="loader">
                <div class="loader-logo">
                    <div class="loader-ring"></div>
                    <div class="loader-ring r2"></div>
                    <div class="loader-ring r3"></div>
                    <span class="loader-icon">üè†</span>
                </div>
                <h1 class="loader-title">Tan's Home</h1>
                <p class="loader-subtitle">A Valentine Sanctuary</p>
                <div class="loader-progress">
                    <div class="loader-bar" id="load-bar"></div>
                    <div class="loader-glow" id="load-glow"></div>
                </div>
                <div class="loader-details">
                    <span class="loader-asset" id="load-asset">Initializing...</span>
                    <span class="loader-percentage" id="load-pct">0%</span>
                </div>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê GAME CONTAINER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="game-container">
        <canvas id="game-canvas"></canvas>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MAIN MENU ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="main-menu" class="overlay-panel">
            <div class="menu-particles"></div>
            <div class="menu-inner">
                <div class="menu-header">
                    <div class="menu-petals">
                        <span class="petal p1">üè†</span>
                        <span class="petal p2">‚ú¶</span>
                        <span class="petal p3">üíñ</span>
                        <span class="petal p4">‚ú®</span>
                        <span class="petal p5">üè†</span>
                    </div>
                    <h1 class="game-title">Tan's<br><span class="title-accent">Home</span></h1>
                    <div class="title-line"></div>
                    <p class="game-subtitle">Built with love, for you</p>
                </div>
                <div class="menu-buttons">
                    <button id="btn-start" class="btn btn-primary btn-glow">
                        <i class="fas fa-play"></i>
                        <span>Enter</span>
                        <div class="btn-shimmer"></div>
                    </button>
                </div>
                <div class="menu-controls">
                    <div class="ctrl"><kbd>WASD</kbd><span>Move</span></div>
                    <div class="ctrl"><kbd>Mouse</kbd><span>Look</span></div>
                    <div class="ctrl"><kbd>E</kbd><span>Interact</span></div>
                    <div class="ctrl"><kbd>Space</kbd><span>Jump</span></div>
                    <div class="ctrl"><kbd>ESC</kbd><span>Pause</span></div>
                </div>
                <div class="menu-footer">
                    <span>Made with üíï for Tan</span>
                </div>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PAUSE MENU ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="pause-menu" class="overlay-panel hidden">
            <div class="menu-inner compact">
                <h2 class="pause-title">‚ú¶ Paused ‚ú¶</h2>
                <div class="menu-buttons">
                    <button id="btn-resume" class="btn btn-primary"><i class="fas fa-play"></i><span>Resume</span></button>
                    <button id="btn-quit" class="btn btn-danger"><i class="fas fa-home"></i><span>Main Menu</span></button>
                </div>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê IN-GAME HUD ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="hud" class="hidden">
            <div class="hud-top">
                <div class="hud-time">
                    <div class="hud-weather-icon" id="hud-weather-icon"><i class="fas fa-moon"></i></div>
                    <div>
                        <div id="hud-clock" class="hud-clock">12:00 AM</div>
                        <div id="hud-date" class="hud-date">Monday, Jan 1</div>
                    </div>
                </div>
                <div class="hud-center-info">
                    <div class="hud-location" id="hud-location">üè† Main Room</div>
                </div>
                <div class="hud-stats">
                    <div class="hud-stat tooltip" data-tip="Bonsai Health">
                        <i class="fas fa-heart" style="color:#ff6b8b"></i>
                        <span id="hud-plant-health">85</span>%
                    </div>
                </div>
            </div>

            <!-- Crosshair -->
            <div class="crosshair" id="crosshair">
                <div class="crosshair-dot"></div>
                <div class="crosshair-ring"></div>
            </div>

            <!-- Interaction hint -->
            <div id="interact-hint" class="interact-hint">
                <div class="interact-icon" id="interact-icon"><kbd>E</kbd></div>
                <div class="interact-info">
                    <span id="interact-text" class="interact-name"></span>
                    <span id="interact-desc" class="interact-desc"></span>
                </div>
            </div>

            <!-- Bottom actions -->
            <div class="hud-bottom">
                <div class="hud-actions">
                    <button class="act-btn tooltip" id="act-water" data-tip="Water Bonsai">
                        <i class="fas fa-tint"></i>
                        <span class="act-label">Water</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MUSIC PLAYER BAR ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="music-player" class="music-player">
            <div class="mp-left">
                <div class="mp-art" id="mp-art">
                    <div class="mp-vinyl"></div>
                    üéµ
                </div>
                <div class="mp-info">
                    <div class="mp-title" id="mp-title">No track loaded</div>
                    <div class="mp-artist" id="mp-artist">‚Äî</div>
                </div>
            </div>
            <div class="mp-center">
                <div class="mp-controls">
                    <button class="mp-btn" id="mp-prev"><i class="fas fa-backward"></i></button>
                    <button class="mp-btn mp-play" id="mp-play"><i class="fas fa-play"></i></button>
                    <button class="mp-btn" id="mp-next"><i class="fas fa-forward"></i></button>
                </div>
                <div class="mp-progress-row">
                    <span class="mp-time" id="mp-elapsed">0:00</span>
                    <div class="mp-progress" id="mp-progress-bar">
                        <div class="mp-progress-fill" id="mp-fill"></div>
                        <div class="mp-progress-thumb" id="mp-thumb"></div>
                    </div>
                    <span class="mp-time" id="mp-duration">0:00</span>
                </div>
            </div>
            <div class="mp-right">
                <div class="mp-volume">
                    <i class="fas fa-volume-up" id="mp-vol-icon"></i>
                    <input type="range" id="mp-volume" min="0" max="100" value="60" class="mp-vol-slider">
                </div>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODALS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <!-- Plant Modal -->
        <div id="modal-plant" class="modal">
            <div class="modal-box">
                <div class="modal-head">
                    <h2>üå∏ Our Bonsai</h2>
                    <button class="modal-x" data-close>&times;</button>
                </div>
                <div class="modal-body">
                    <div class="plant-grid">
                        <div class="plant-visual">
                            <div class="plant-glow-ring"></div>
                            <div class="plant-pot-ui"></div>
                            <div class="plant-stem-ui"></div>
                            <div class="plant-canopy-ui" id="plant-canopy"></div>
                        </div>
                        <div class="plant-details">
                            <h3>Cherry Bonsai</h3>
                            <div class="bar-group">
                                <label><i class="fas fa-heart"></i> Health</label>
                                <div class="bar"><div class="bar-fill green" id="bar-health" style="width:85%"></div></div>
                                <span id="val-health">85%</span>
                            </div>
                            <div class="plant-btns">
                                <button class="btn btn-primary" id="btn-water"><i class="fas fa-tint"></i> Water</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Letter Modal -->
        <div id="modal-letter" class="modal">
            <div class="modal-box wide">
                <div class="modal-head">
                    <h2>üíå Your Letter</h2>
                    <button class="modal-x" data-close>&times;</button>
                </div>
                <div class="modal-body">
                    <div id="letter-display" class="letter-paper">
                        <div class="letter-paper-header">
                            <h4 id="letter-title-display">For You, on Valentine‚Äôs Day üíñ</h4>
                            <div class="letter-date-stamp" id="letter-date-stamp"></div>
                        </div>
                        <div id="letter-content-display" class="letter-content">
                            My dearest Tan, every star in this sky was placed here for you. You are my universe. Happy Valentine‚Äôs Day.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notifications -->
        <div id="notifs"></div>
    </div>

    <script src="game.js"></script>
</body>
</html>